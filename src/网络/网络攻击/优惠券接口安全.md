重放攻击的基本原理就是把以前窃听到的数据原封不动地重新发送给接收方。
很多时候，网络上传输的数据是加密过的，此时窃听者无法得到数据的准确意义。但如果他知道这些数据的作用，就可以在不知道数据内容的情况下通过再次发送这些数据达到愚弄接收端的目的。

例如，有的系统会将鉴别信息进行简单加密后进行传输，这时攻击者虽然无法窃听密码，但他们却可以首先截取加密后的口令然后将其重放，从而利用这种方式进行有效的攻击。

假设网上存款系统中，一条消息表示用户支取了一笔存款，攻击者完全可以多次发送这条消息而偷窃存款。 
# 优惠券接口安全
- 总结：
	- STEP1：验证signature签名是否合理，保证请求没有被篡改
	- STEP2：验证timestamp是否过期，证明请求是最近60s内发出的
	- STEP3：验证nonce随机数是否已存在并且未过期（60s）,如果还没过期，证明是重放攻击
	https://segmentfault.com/a/1190000014821815 
- 请求伪造的预防：
	- 使用signature，对称或非对称加密
- 请求重放的预防
	- timestamp：请求发出时的时间戳
		- 机制：和服务端时间做对比。
			- 发出请求的时间和到达服务器的时间不能超过60s
			- 不足：但是还留给了攻击者60s的时间，需要nonce随机数
	- nonce：
		- 客户端：生成足够大的随机数
		- 服务端：去redis查找是否存在nonce这个随机数，没有则创建，有则判断这个key是否还处于60s内的未过期时间段
		- 在60s以内不可出现2个一样的nonce，如果有则判断为请求重放

## 风控